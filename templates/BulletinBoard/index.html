<!DOCTYPE html>

{% extends 'base_bulletinboard.html' %}

{% block header_message %}
    <header>
        <p class='fs-1 fw-bold text-center'>川田・岡ノ山 掲示板</p>
        <p class='fs-3 text-center'>町内会活動情報を掲載しています。</p>
        <p class='fs-5 text-center'>当ページに関するお問い合わせは、川田　大河内正博まで。</p>
    </header>
{% endblock %}

{% block main_contents %}
    <hr>
    <div class='container'>
        <p class='fs-2 fw-bold text-center'>今後の予定</h2>
        {% if eventlist %}
        <p class='fs-4 text-center'>直近の{{ eventlist.count|add:1 }}件を表示しています。</p>
        <table class='table table-striped table-bordered text-center'>
            <thead>
                <tr>
                    <th>行事名</th>
                    <th>場所</th>
                    <th>日付</th>
                    <th>時刻</th>
                </tr>
            </thead>
            <tbody>
                <tr class='table-primary'>
                    <td scope="row"><a href={% url "EventSchedule:EventDetail" firstevent.id %}>{{ firstevent.event_name }}</a></td>
                    <td>{{ firstevent.place }}</td>
                    <td>{{ firstevent.schedule_daytime | date:'Y年n月j日' }}</td>
                    <td>{{ firstevent.schedule_daytime | date:'G:i' }}</td>
                </tr>
                {% for event in eventlist %}
                <tr>
                    <td scope="row"><a href="{% url 'EventSchedule:EventDetail' event.id %}">{{ event.event_name }}</a></td>
                    <td>{{ event.place }}</td>
                    <td>{{ event.schedule_daytime | date:'Y年n月j日' }}</td>
                    <td>{{ event.schedule_daytime | date:'G:i' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <p class='fs-5 text-center'>年度行事一覧は<a href={% url 'EventSchedule:AllEventSchedule' %}>こちら</a>。</p>
        {% else %}
        <p class='fs-4 text-center'>予定された行事はありません</p>
        {% endif %}
    </div>
    <hr>
    <div class='container'>
        <p class='fs-2 fw-bold text-center'>資料</p>
        {% if documentlist %}
        <p class='fs-4 text-center'>直近の{{ documentlist.count }}件を表示しています。</p>
        <table class='table table-striped table-bordered text-center'>
            <thead>
                <tr>
                    <th>資料名</th>
                    <th>掲載日</th>
                </tr>
            </thead>
            <tbody>
                {% for document in documentlist %}
                <tr>
                    <td scope="row">{{ document.document_name }}</td>
                    <td>{{ document.upload_date }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class='fs-4 text-center'>掲載資料はありません。</p>
        {% endif %}
        <p class='fs-5 text-center'>全ての資料は<a href={% url 'Documents:AllDocumentList' %}>こちら</a>。</p>
    </div>
    <hr>
    <div class='container'>
        <p class='fs-2 fw-bold text-center'>回覧状況</h1>
        {% if circulatinglist %}
        <p class='fs-4 text-center'>直近の{{ circulatinglist.count }}件を表示しています。</p>
        <table class="table table-striped table-bordered text-center">
            <thead>
                <tr>
                    <th>タイトル</th>
                    <th>開始日</th>
                </tr>
            </thead>
            <tbody>
                {% for board in circulatinglist %}
                <tr>
                    <td scope="row">{{ board.title }}</td>
                    <td>{{ board.start_date }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class='fs-4 text-center'>現在回覧中の回覧板はありません。</p>
        {% endif %}
        <p class='fs-5 text-center'>過去の回覧は<a href={% url 'CirculationBoard:AllCirculationBoard' %}>こちら</a>。</p>
    </div>
{% endblock %}
